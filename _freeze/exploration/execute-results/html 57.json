{
  "hash": "6a6930e9e1fc925f7d5d7536d0054639",
  "result": {
    "markdown": "---\ntitle: \"Exploration des données\"\ntitle-block-banner: false\ndescription: | \n  Analyse descriptive des banques de données importées\ndate: \"2022-12-21\"\nauthor:\n  - name: \"Juliana Hubacova\"\n    url: https://github.com/julianahubacova\n    affiliation: FAS1002\n    affiliation-url: https://FAS1002.github.io/A22\n    orcid: 0000-0001-8128-783X\ncitation: true\nbibliography: references.bib\nformat :\n    html : \n        df-print: kable\n---\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n### Banque de données sur les émissions des CO2 et les gaz à effet de serre.\n\nCette banque de données contient de nombreuses informations sur les pays depuis 1850. Elle contient 46 523 observations et 74 variables. On y retrouve les pays, leur population, leur PIB, et leurs émissions de dioxyde de carbone et gaz à effets de serre.\n\n\n\n\n\n1.  Le PIB\n\nÀ première vue, on peut constater les différents facteurs qui influents les émissions de dioxyde de carbone et des gaz à effets de serre. On retrouve notamment l'utilisation du ciment, du charbon, du gaz, du méthane, du nitrate, de la combustion, et autres. Ces variables vont être utiliser plus tard dans l'analyse. J'aimerais d'abord me concentrer sur le PIB des pays et des continents car cette variable nous permet de constater la santé économique du pays.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Choix de variables et ajout de continents\nco_2_data2 = co_2_data %>% \n  select(country, year, population, gdp, ends_with(\"per_capita\"), primary_energy_consumption, total_ghg)%>%\n  mutate(continent = countrycode(co_2_data$iso_code, \"iso3c\", \"continent\"))\n\n# Variables manquantes \nmissing_co2 = co_2_data2 %>% \n  select(country, continent) %>% \n  filter(!complete.cases(.))\n\n# Retrait des continents dans la colonne des pays \nco_2_data3 = co_2_data2 %>% \n  drop_na(continent)\nco_2_data3 = as_tibble(co_2_data3)\n\n# Évolution du PIB au fil du temps entre les continents\nco_2_data4 = co_2_data3 %>% \n    group_by(continent, year) %>% \n    summarise(gdp = mean(gdp, na.rm = TRUE)) %>% \n    arrange(gdp)\n\nggplot(co_2_data4, \n       mapping = aes(x = year, y = gdp, color = continent)) +\n    geom_line()+\n    scale_x_continuous(limits = c(1820,2021))+\n    labs(title = \"Évolution du PIB au fil des années\", \n         subtitle = \"À partir des données Our World in Data\", \n         x = \"Années\", \n         y = \"PIB (dollars constants de 2011\") +\n    theme_classic()\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nOn constate que le PIB a évolué positivement au cours des années pour tous les continents. On voit une croissance considérable pour tous les continents excepté pour l'Afrique où la croissance du PIB est plus lente. L'augmentation soudaine du PIB est dû à la révolution industrielle dans les années 1950. Celle-ci a permis le passage d'une économie agraire vers une économie industrielle avec de nouvelles technologies plus productives. Le graphique nous indique également que l'Amérique a connu une dominance économique jusque dans les années 2000 où l'Asie a pris le dessus.\n\n2.  PIB par habitant\n\nLe PIB est une bonne mesure économique mais qu'en est-il du PIB par habitant et comment se compare-t-il au PIB?\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ajout de la variable du PIB par habitant\nco_2_data_pib_per_cap = co_2_data3 %>% \n    mutate(gdp_per_capita = gdp/population)\n\n# Moyenne du PIB/habitant par pays\nco_2_data5 = co_2_data_pib_per_cap %>% \n    group_by(country) %>% \n    summarise(gdp_per_capita = mean(gdp_per_capita, na.rm = TRUE)) %>% \n    ungroup()\n\n# Les pays ayant un PIB par habitant faible\npib_bas = co_2_data5 %>% \n    arrange(gdp_per_capita)\nhead(pib_bas)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|country                      | gdp_per_capita|\n|:----------------------------|--------------:|\n|Burundi                      |       817.7813|\n|Guinea                       |       834.7425|\n|Malawi                       |       859.9126|\n|Ethiopia                     |       955.0743|\n|Democratic Republic of Congo |       971.2861|\n|Chad                         |       991.8454|\n\n</div>\n:::\n\n```{.r .cell-code}\n#Les pays ayant un PIB par habitant élevé\npib_haut = co_2_data5 %>% \n    arrange(- gdp_per_capita)\nhead(pib_haut)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|country              | gdp_per_capita|\n|:--------------------|--------------:|\n|Qatar                |       60018.27|\n|United Arab Emirates |       41465.83|\n|Kuwait               |       40563.53|\n|Luxembourg           |       33048.92|\n|Iceland              |       24512.87|\n|Hong Kong            |       21351.16|\n\n</div>\n:::\n:::\n\n\nOn constate que les pays avec le plus faible PIB par habitant sont le Burundi, la Guinée, le Malawi et l'Éthiopie. Ces pays font partie des pays qu'on considère comme sous-développé. Tandis que les pays les plus développé économiquement connaissent un PIB par habitant plus élevé. Le pays avec un PIB par habitant le plus élevé est le Qatar avec un montant de 60 018 USD (dollars constants de 2011). Mais qu'en est-il d'un point de vue des continents?\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Moyenne du PIB par habitant par continent\nco_2_data6 = co_2_data_pib_per_cap %>% \n    group_by(continent) %>% \n    summarise(gdp_per_capita = mean(gdp_per_capita, na.rm = TRUE)) %>% \n    ungroup() %>%\n    arrange(gdp_per_capita)\n\np1 = ggplot(data = co_2_data6, \n       mapping = aes(x = continent, y = gdp_per_capita)) +\n    geom_bar(stat = \"identity\", fill = \"#77B5FE\") + \n    labs(title = \"PIB par habitant en fonction des continents\", \n         subtitle = \"À partir des données de Our World in Data\", \n         x = \"Continents\", \n         y = \"PIB par habitant\") +\n    scale_x_discrete(limits = c(\"Asia\", \"Americas\", \"Europe\", \"Oceania\", \"Africa\")) +\n    theme_bw()\n\n# Moyenne du PIB par continent\nco_2_data7 = co_2_data_pib_per_cap %>% \n    group_by(continent) %>% \n    summarise(gdp = mean(gdp, na.rm = TRUE)) %>% \n    ungroup() %>%\n    arrange(gdp)\n\np2 = ggplot(data = co_2_data7, \n       mapping = aes(x = continent, y = gdp)) +\n    geom_bar(stat = \"identity\", fill = \"#77B5FE\") + \n    labs(title = \"PIB en fonction des continents\", \n         subtitle = \"À partir des données de Our World in Data\", \n         x = \"Continents\", \n         y = \"PIB\") +\n    scale_x_discrete(limits = c(\"Asia\", \"Americas\", \"Europe\", \"Oceania\", \"Africa\")) +\n    theme_bw()\np2+p1\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nOn constate que l'Asie et l'Amérique sont les continents ayant le PIB le plus élevé. Tandis que l'Afrique se retrouve avec le PIB le moins élevé. Ceci n'est pas surprenant puisque les pays en développement se trouve majoritairement en Afrique et les grandes puissances économiques, Chine et États-Unis, se trouvent respectivement en Asie et en Amérique. Par contre, lorsqu'on compare le PIB par habitant entre les différents continents on constate une différence dans le classement. C'est l'Océanie et l'Europe qui se trouve au top du classement, tandis que l'Afrique se trouve à nouveau en dernière position. Le PIB par habitant prend en considération à la fois la population et le PIB du pays. Ainsi, cette mesure nous sera plus utile pour la suite de notre analyse.\n\n### Banque de donnée sur l'espérance de vie à la naissance\n\nLe PIB par habitant est un indicateur économique puissant qui nous permet de constater le comportement économique d'un pays en prenant en compte la taille de sa population. Maintenant, on se focalise sur l'espérance de vie pour voir comment celle-ci a évolué au cours du temps et des régions. La base de données *Life Expectancy at Birth* contient 56 616 observations et 4 variables. On y retrouve les pays, leur code genc3c (GENC à 3 lettres), les années et leur espérance de vie.\n\n\n\n\n\nQuelles sont l'âge moyen, médian, l'écart-type, maximal et minimal de l'espérance de vie à la naissance par année et par continent?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlife_exp_stt = life_exp_continent %>% \n    group_by(continent_tout, year) %>% \n    summarise(mean = mean(lifeexp),\n              median = median(lifeexp),\n              sd = sd(lifeexp),\n              min = min(lifeexp),\n              max = max(lifeexp))\nhead(life_exp_stt)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|continent_tout | year|     mean| median|       sd|  min| max|\n|:--------------|----:|--------:|------:|--------:|----:|---:|\n|Africa         | 1800| 30.52352|  30.85| 2.457320| 25.1|  37|\n|Africa         | 1801| 30.39778|  30.70| 2.562583| 25.0|  37|\n|Africa         | 1802| 30.39796|  30.70| 2.562518| 25.0|  37|\n|Africa         | 1803| 30.52407|  30.85| 2.457088| 25.1|  37|\n|Africa         | 1804| 30.52426|  30.85| 2.457012| 25.1|  37|\n|Africa         | 1805| 30.52444|  30.85| 2.456937| 25.1|  37|\n\n</div>\n:::\n:::\n\n\nComment l'espérance de vie a-t-elle évoluée au fil du temps?\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Préparation pour le graphique\nlife_exp_continent2 = life_exp_continent %>% \n    group_by(year, continent_tout) %>% \n    summarise(lifeexp = mean(lifeexp, na.rm = TRUE)) %>% \n    ungroup()\n\nggplot(data = life_exp_continent2, \n       mapping = aes(x = year, y = lifeexp, group = continent_tout, color = continent_tout)) +\n    geom_line() +\n    geom_vline(xintercept =year(Sys.time()), colour = \"black\", alpha = .6, linetype = \"dashed\") +\n    annotate(\"text\", x = year(Sys.time()), y = 50, label = \"Cette année\", size = 3, color = \"black\", alpha = .6) +\n    labs(title = \"Évolution de l'espérance de vie à la naissance\", \n         subtitle = \"À partir des données de Gapminder\",\n         x = \"Années\", \n         y = \"Espérance de vie à la naissance\") +\n    scale_color_discrete(name = \"Continent\", labels = c(\"Afrique\", \"Amérique\", \"Asie\", \"Europe\", \"Océanie\")) +\n    theme_bw()\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nOn constate que l'espérance de vie a augmenté au cours des années. Ceci peut notamment être dû à des avancées médicales, des meilleures conditions de vie et d'hygiène. De plus, on peut observer que l'espérance de vie à la naissance la plus élevée se trouve en Europe, suivie de l'Amérique et de l'Asie. L'Afrique se trouve au bas de l'échelle. À nouveau, l'Afrique qui se compose des pays en développement se trouve en dernière position du classement. Par curiosité, regardons l'espérance de vie au cours des 20 dernières années (2001-2021).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Espérance de vie dans les 20 dernières années\nlife_exp5 = life_exp_continent2 %>% \n    filter(year > 2000)\n\nggplot(life_exp5, \n       mapping = aes(x = continent_tout, y = lifeexp)) +\n    geom_boxplot(fill = \"#77B5FE\") +\n    scale_x_discrete(labels = c(\"Afrique\", \"Amérique\", \"Asie\", \"Europe\", \"Océanie\")) +\n    labs(title = \"Espérance de vie à la naissance durant les 20 dernières années\",\n         subtitle = \"D'après les données de Gapminder\", \n         x = \"Continents\",\n         y = \"Espérance de vie à la naissance\") +\n    theme_bw()\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nOn se rend compte que l'espérance de vie médiane ne dépasse pas 85 ans. Elle est supérieur en Europe, se situant aux alentours de 82 ans. En Amérique et en Asie, la médiane se situe proche de 80ans. ELle est relativement faible en Afrique et en Océanie comparé aux autres continents.\n\nCalcul du temps écoulé entre la production de ce rapport et la première année que des données ont été récoltées dans le jeu de données *Life Expectancy at Birth*.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ajout du mois et du jours dans la date\ndate_life_exp = life_exp2 %>% \n    mutate(mois_et_jour = \"01/01\") %>% \n    unite(year, mois_et_jour, col = year, sep = \"/\") %>% \n    mutate(date = as.Date(year, format= \"%Y/%m/%d\"))\n\n# Nombre de jours écoulés\njours = difftime(as.POSIXct(today()),as.POSIXct(as.Date(min(date_life_exp$date), format = \"%Y-%m-%d\")))\njours\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTime difference of 81437 days\n```\n:::\n:::\n",
    "supporting": [
      "exploration_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}