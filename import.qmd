---
title: "Importation des données"
title-block-banner: false
description: 
    Informations concernant la provenance des données et leur importation. 
date: "2022-12-21"
author:
  - name: "Juliana Hubacova"
    url: https://github.com/VOTREUSERNAME
    affiliation: FAS1002
    affiliation-url: https://FAS1002.github.io/A22
    orcid: 0000-0001-8128-783X
citation: true
bibliography: references.bib
---

Ce projet se concentre sur deux banques de données distinctes :

-   **CO2 and Greenhouse Gas Emissions** : base de données sur les émissions de CO2 et de gaz à effet de serre. Mise à jour régulièrement par @owidco2. Les données sont disponibles aux liens suivants :

    URL : https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions

    Github : https://github.com/owid/co2-data

-   **Life Expectancy At Birth** : base de données sur l'espérance de vie à la naissance. Mise à jour régulièrement par @Gapminder. Les données sont disponibles au lien suivant :

    URL : https://www.gapminder.org/data/documentation/gd004/

```{r echo=FALSE, warning=FALSE, message=FALSE}
library(fs)
library(tidyverse)
library(readr)
library(skimr)
library(lubridate)
library(readxl)
```

```{r download, cache = TRUE}
co_2_data = read.csv("~/Desktop/Automne 2022/FAS1002/FAS1002_projet-pratique/data/raw/owid-co2-data.csv")
life_exp_continent = read_excel("~/Desktop/Automne 2022/FAS1002/FAS1002_projet-pratique/data/raw/Gapminder_life_expectancy_v12.xlsx",
                              sheet = "data-for-regions-by-year")
life_exp_country = read_excel("~/Desktop/Automne 2022/FAS1002/FAS1002_projet-pratique/data/raw/Gapminder_life_expectancy_v12.xlsx", 
    sheet = "data-for-countries-etc-by-year")

```

```{r message=FALSE, warning=FALSE}
# Importation banque de données OWID
owid_url <- "https://raw.githubusercontent.com/owid/co2-data/master/owid-co2-data.csv"
base_path <- path("data", "raw")
fname_owid <- paste(today(),"owid-co2-data.csv", sep = "_")
fpath_owid <- path(base_path, fname_owid)
data_owid <- download.file(url = owid_url, destfile = fpath_owid)
co_2_data <- read.csv(fpath_owid)

# Téléchargement quotidien 

#if(!file.exists(fpathowid)){
#    file.remove(junk)
#    download.file(url = urlowid,
#                  destfile = fpathowid)
#    paste("Le Fichier",
#          fpathowid,
#          "n'existait pas, il a donc été téléchargé à l'instant."
#          )
#} else {
#    print(paste("Le Fichier",
#                fpathowid,
#                "existe déjà, il ne sera pas téléchargé à nouveau.")
#    )}


```
